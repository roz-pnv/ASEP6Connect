{% extends "staff_panel/panel.html" %}

{% block page_title %}👥 User Management{% endblock %}

{% block action_buttons %}
<div class="d-flex flex-wrap gap-2 justify-content-between align-items-center">
  <a href="{% url 'user_add' %}" class="header-btn">➕ Add User</a>
  <button id="toggleFilter" class="header-btn">🔍 Filter</button>
</div>
{% endblock %}


{% block main_class %}with-sidebar{% endblock %}

{% block main_content %}
<div class="table-responsive">
  <table class="table table-hover align-middle purple-table w-100">
    <thead class="table-purple">
      <tr>
        <th>Username</th>
        <th>Full Name</th>
        <th>Email</th>
        <th>Student</th>
        <th>Board Member</th>
        <th>Country</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
      <tr>
        <td>
          <a href="{% url 'user_detail' user.id %}">{{ user.username }}</a>
        </td>
        <td>{{ user.get_full_name }}</td>
        <td>{{ user.email }}</td>
        <td>
          {% if user.is_student %}
            <span class="badge bg-info">Yes</span>
          {% else %}
            <span class="badge bg-secondary">No</span>
          {% endif %}
        </td>
        <td>
          {% if user.is_boardofdirector %}
            <span class="badge bg-warning text-dark">Yes</span>
          {% else %}
            <span class="badge bg-light text-muted">No</span>
          {% endif %}
        </td>
        <td>{{ user.country_of_origin.name|default:"—" }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="11" class="text-center text-muted">No users found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
